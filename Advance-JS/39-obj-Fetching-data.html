<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>object data Fetching</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<style>
    #one {

        margin: 20px 20px;
        padding: 10px 0;
        width: 100px;
        border: none;
        border-radius: 5px;

    }

    #one:hover {

        border: 1px solid black;
        background-color: #dfdfdf;
        font-weight: 600;

    }

    #user11 {

        margin: 20px 20px;
        padding: 10px 10px;
        border: none;
        border-radius: 5px;
    }

    #user11:hover {

        border: 1px solid black;
        background-color: #dfdfdf;
        font-weight: 600;

    }
</style>

<body>

    <button id="one">Product</button>
    <div id="productView"></div>
    <button id="user11">Product ViewerüëÅÔ∏è</button>

    <table class="table table-bordered border-primary mt-5" id="productView1">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Age</th>
                <th scope="col">Email</th>
                <th scope="col">Mobile</th>
            </tr>
        </thead>
        <tbody>
            <!-- dynamic js add -->
        </tbody>
    </table>

    <script>


        fetch('38-obj.json', {

            method: "GET"
        })

            .then((result) => {

                return result.json();
            })

            .then((data) => {

                const obj = data.product

                // console.log(data.product);

                const productdata = document.getElementById("one");

                const dataStore = document.getElementById("productView")

                productdata.addEventListener("click", function () {

                    dataStore.innerHTML = ""; // clear the product view container 


                    for (let val of obj) {

                        // product data dynamic
                        dataStore.innerHTML += `<img src="${val.img}" alt="parker jotter Stander CT Ball pen Black" style="height: 200px; width: 200px;"> 
                         <h4>
                            ProductName: ${val.tittle} <br>
                            Price: ${val.price} <br>
                            Ratting: ${val.rating}‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê <br>
                            Offer: ${val.offer} % 
                        </h4>`;
                    }




                    ///////////////////////////

                    // product viewer

                    const viewer = data.user;

                    const userbutton = document.querySelector("#user11");
                    const dataStore1 = document.querySelector("#productView1 tbody");

                    userbutton.addEventListener("click", () => {

                        dataStore1.innerHTML = ""; // clear the user view container 

                        for (let val2 of viewer) {

                            const row = document.createElement('tr');

                            row.innerHTML += `<tr>
                                                  <th scope="row">${val2.id}</th>
                                                    <td>${val2.name}</td>
                                                    <td>${val2.age}</td>
                                                    <td>${val2.email}</td>
                                                    <td>${val2.mobile}</td>
                                                </tr>`

                            dataStore1.appendChild(row);

                        }


                    })


                })
            })
    </script>
</body>

</html>
